<div class="page-section" id="lookup">
  <div class="container">
  <div class="page-header">
    <h1 class="page-title"><i data-lucide="search"></i> Tra Cá»©u ÄÆ¡n HÃ ng</h1>
    <p class="page-subtitle">TÃ¬m kiáº¿m Ä‘Æ¡n hÃ ng báº±ng mÃ£ Ä‘Æ¡n hoáº·c sá»‘ Ä‘iá»‡n thoáº¡i</p>
  </div>

  <!-- Search Form -->
  <div class="card card-padded mb-3">
    <form id="lookupForm" onsubmit="event.preventDefault(); appManager.searchOrder();">
      <div class="form-group">
        <label class="form-label">TÃ¬m kiáº¿m báº±ng:</label>
        <div class="mb-2" style="display: flex; gap: 16px;">
          <label class="radio-label">
            <input type="radio" name="searchType" value="code" checked>
            <span>MÃ£ Ä‘Æ¡n hÃ ng</span>
          </label>
          <label class="radio-label">
            <input type="radio" name="searchType" value="phone">
            <span>Sá»‘ Ä‘iá»‡n thoáº¡i</span>
          </label>
        </div>
      </div>

      <div class="form-group">
        <input 
          type="text" 
          id="searchInput" 
          class="form-input" 
          placeholder="Nháº­p mÃ£ Ä‘Æ¡n hÃ ng (VD: WL2024ABC) hoáº·c sá»‘ Ä‘iá»‡n thoáº¡i..."
          required
        >
        <small style="color: var(--text-secondary); margin-top: 4px; display: block;">
          ğŸ’¡ MÃ£ demo: <strong>WL2024ABC</strong> | SÄT: <strong>0901234567</strong>
        </small>
      </div>

      <button type="submit" class="btn btn-primary" style="width: 100%;">
        <i data-lucide="search"></i> TÃ¬m Kiáº¿m
      </button>
    </form>
  </div>

  <!-- Recent Orders (Demo) -->
  <div class="card card-padded mb-3">
    <h3 class="mb-2"><i data-lucide="clipboard-list"></i> ÄÆ¡n HÃ ng Gáº§n ÄÃ¢y</h3>
    <div id="recentOrders"></div>
  </div>

  <!-- Search Results -->
  <div id="searchResults" style="display: none; margin: 0 auto;">
    <!-- Order Found -->
    <div class="card card-padded mb-3">
      <div class="text-center mb-3">
        <div class="mb-2" style="font-size: 64px;"><i data-lucide="check-circle" style="width: 64px; height: 64px; color: var(--success); stroke-width: 2;"></i></div>
        <h3>TÃ¬m Tháº¥y ÄÆ¡n HÃ ng!</h3>
      </div>

      <div class="order-info-grid">
        <div class="order-info-item">
          <span class="label">MÃ£ Ä‘Æ¡n hÃ ng:</span>
          <strong id="resultOrderCode">-</strong>
        </div>
        <div class="order-info-item">
          <span class="label">NgÃ y Ä‘áº·t:</span>
          <strong id="resultOrderDate">-</strong>
        </div>
        <div class="order-info-item">
          <span class="label">Sá»‘ Ä‘iá»‡n thoáº¡i:</span>
          <strong id="resultOrderPhone">-</strong>
        </div>
        <div class="order-info-item">
          <span class="label">Sá»‘ lÆ°á»£ng áº£nh:</span>
          <strong id="resultPhotoCount">0 áº£nh</strong>
        </div>
        <div class="order-info-item">
          <span class="label">Tá»•ng tiá»n:</span>
          <strong style="color: var(--primary);" id="resultTotal">0â‚«</strong>
        </div>
        <div class="order-info-item">
          <span class="label">Tráº¡ng thÃ¡i:</span>
          <span class="badge badge-success" id="resultStatus">ÄÃ£ thanh toÃ¡n</span>
        </div>
        <div class="order-info-item">
          <span class="label">Link háº¿t háº¡n:</span>
          <strong style="color: var(--warning);" id="resultExpiry">-</strong>
        </div>
      </div>

      <!-- Download Link Section -->
      <div class="mt-3 card-padded" style="background: var(--surface-elevated); border-radius: 12px; text-align: center;">
        <h4 class="mb-2"><i data-lucide="link"></i> Link Táº£i áº¢nh</h4>
        <div class="mb-2" style="background: white; padding: 12px; border-radius: 8px; word-break: break-all;">
          <code id="resultDownloadLink" style="color: var(--primary); font-weight: 600;">-</code>
        </div>
        <button class="btn btn-primary mb-1" style="width: 100%;" onclick="appManager.copyDownloadLink()">
          <i data-lucide="clipboard"></i> Sao ChÃ©p Link
        </button>
        <button class="btn btn-outline" style="width: 100%;" onclick="navigationManager.goToPage('delivery')">
          <i data-lucide="download"></i> Táº£i áº¢nh Ngay
        </button>
      </div>
    </div>

    <!-- Photo Preview -->
    <div class="card card-padded">
      <h3 class="mb-2"><i data-lucide="images"></i> áº¢nh Trong ÄÆ¡n HÃ ng</h3>
      <div class="photo-grid" id="resultPhotosGrid"></div>
    </div>
  </div>

  <!-- Not Found -->
  <div id="notFoundResults" style="display: none; max-width: 600px; margin: 0 auto;">
    <div class="card card-padded mb-3" style="text-align: center; padding: 60px 20px;">
      <div class="mb-2" style="font-size: 80px;"><i data-lucide="x-circle" style="width: 80px; height: 80px; color: var(--error); stroke-width: 2;"></i></div>
      <h3 class="mb-1">KhÃ´ng TÃ¬m Tháº¥y ÄÆ¡n HÃ ng</h3>
      <p class="mb-3" style="color: var(--text-secondary);">
        Vui lÃ²ng kiá»ƒm tra láº¡i mÃ£ Ä‘Æ¡n hÃ ng hoáº·c sá»‘ Ä‘iá»‡n thoáº¡i
      </p>
      <button class="btn btn-outline" onclick="uiManager.resetLookupForm()">
        <i data-lucide="refresh-cw"></i> TÃ¬m Láº¡i
      </button>
    </div>

    <div class="card card-padded">
      <h3 class="mb-2"><i data-lucide="lightbulb"></i> Gá»£i Ã</h3>
      <ul style="margin: 0; padding-left: 20px; color: var(--text-secondary);">
        <li class="mb-1">Kiá»ƒm tra láº¡i mÃ£ Ä‘Æ¡n hÃ ng trong SMS</li>
        <li class="mb-1">Äáº£m báº£o nháº­p Ä‘Ãºng sá»‘ Ä‘iá»‡n thoáº¡i Ä‘Ã£ Ä‘Äƒng kÃ½</li>
        <li class="mb-1">MÃ£ Ä‘Æ¡n hÃ ng cÃ³ dáº¡ng: WLP-XXXXXX</li>
        <li class="mb-1">LiÃªn há»‡ hotline náº¿u cáº§n há»— trá»£</li>
      </ul>
    </div>
  </div>

  <!-- Help Section -->
  <div class="card card-padded mt-3" style="text-align: center;">
    <h3 class="mb-2"><i data-lucide="help-circle"></i> Cáº§n Há»— Trá»£?</h3>
    <p class="mb-2" style="color: var(--text-secondary);">
      KhÃ´ng tÃ¬m tháº¥y Ä‘Æ¡n hÃ ng hoáº·c gáº·p váº¥n Ä‘á»?
    </p>
    <div style="display: flex; gap: 12px; justify-content: center; flex-wrap: wrap;">
      <a href="tel:0987654321" class="btn btn-outline">
        <i data-lucide="phone"></i> 0987 654 321
      </a>
      <a href="https://zalo.me/wonderlandphoto" class="btn btn-outline" target="_blank">
        <i data-lucide="message-circle"></i> Chat Zalo
      </a>
      <a href="mailto:support@wonderlandphoto.vn" class="btn btn-outline">
        <i data-lucide="mail"></i> Email
      </a>
    </div>
  </div>

  <style>
  .order-info-grid {
    display: grid;
    gap: 12px;
  }

  .order-info-item {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 12px;
    background: var(--surface-elevated);
    border-radius: 8px;
  }

  .order-info-item .label {
    color: var(--text-secondary);
  }

  .radio-label {
    display: flex;
    align-items: center;
    gap: 8px;
    cursor: pointer;
  }

  .radio-label input[type="radio"] {
    width: 18px;
    height: 18px;
    cursor: pointer;
  }
  </style>

  </div><!-- end container -->
</div><!-- end page-section -->
